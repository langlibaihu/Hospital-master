/*! 2016 Baidu Inc. All Rights Reserved */
define("common/js/config",["require","infoConstruct/include/component","common/js/suggest"],function(require){require("infoConstruct/include/component");return{subKey:function(e){var t=e.indexOf("=");if(-1==t)return null;else return e.substring(0,t)},subTitle:function(e,t){var n;if(e.length>t)n=e.substring(0,t)+"...";else n=e;return n},urlHashJson:function(){var e=window.location.href,t={},n=e.indexOf("?");if(n>=0){var i=e.substr(n+1);if(-1!=i.indexOf("&")){strs=i.split("&");for(var r=0;r<strs.length;r++)t[strs[r].split("=")[0]]=strs[r].split("=")[1]}else t[i.split("=")[0]]=i.split("=")[1]}return t},locationHash:function(e){var t=window.location.toString(),n=t.substring(t.indexOf("?")+1,t.length);n=decodeURI(n),n=n.replace(/\s/g,"");for(var i=n.split("&"),r=0;r<i.length;r++)if(this.subKey(i[r])==e){var o=i[r].substring(i[r].indexOf("=")+1,i[r].length);return o}else return null},setCookie:function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return unescape(i[1])}},delCookie:function(e){this.setCookie(e,"",-1)},lsItem:function(e,t){var n=null;if(window.localStorage)if(t)localStorage.setItem(e,t),n=t;else n=localStorage.getItem(e);else alert("This browser does not support localStorage!");return n},lsRemoveItem:function(e){if(window.localStorage)localStorage.removeItem(e);else return alert("This browser does not support localStorage!"),!1;return!0},lsRemoveItems:function(){for(var e=arguments,t=0;t<e.length;t++)this.lsRemoveItem(e[t])},unLoad:function(){var e={};e.set=function(e){window.onbeforeunload=function(t){return t=t||window.event,t.returnValue=e,e}},e.clear=function(){fckDraft.delDraftById(),window.onbeforeunload=function(){}},this.lsRemoveItems("tempProvId","tempCityId","tempRegionId","tempLevel1Id","tempLevel2Id","tempMedTitle")},barCode:function(){var e=$(".bar-code");window.onscroll=window.onresize=function(){var t=e.height(),n=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.scrollHeight||document.body.scrollHeight,o=n+i,a=r-o;if(t>a)e.css("bottom",t-a+"px"),window.console.log("offsetBarHeight:"+a);if(o==r)window.console.log("slideHeight:"+o),window.console.log("allHeight:"+r),e.css("bottom","100px");else window.console.log("slideHeight2:"+o),window.console.log("allHeight2:"+r),e.css("bottom","0px")}},keyParamer:function(e){var t=$("#search-tips-input");if(!t.val().replace(/(^\s*)|(\s*$)/g,"")||"请输入医院/科室/疾病/症状/医生姓名"==t.val())return t.val("").blur(),!1;var n="";for(var i in e)if("key"!=i)n+='<input type="hidden" name="'+i+'" value="'+e[i]+'" />';if(n+='<input type="hidden" name="searchTag" value="1" />',regionDom=$("#current-area-info"),regionDom.data("value"))n+='<input type="hidden" name="provId" value="'+regionDom.data("province")+'">',n+='<input type="hidden" name="cityId" value="'+regionDom.data("city")+'">',n+='<input type="hidden" name="regionId" value="'+regionDom.data("region")+'">';return t.val(t.val().replace(/(^\s*)|(\s*$)/g,"")),t.after(n),$("#med_form").submit(),!0},src:function(){var e=$(".footer-box").data("src");return e}(),href:function(){var e=$(".footer-box").data("href");return e}(),api:function(){var e=$(".footer-box").data("api");return e}(),keyWord:function(e){var t=require("common/js/suggest");t.initialize();var n=this;$("#med_form").attr("action",""+n.api+"/pc/search/list");var i={defaultKey:"请输入医院/科室/疾病/症状/医生姓名",sugKey:"pc_ss1",defaultData:e,searchBtn:"#querySearch"},r={ulStyles:"",liStyles:"height:34px;line-height:34px;color:#666;text-indent:9px;cursor:default;",liPStyles:"color:#666;text-indent:9px;cursor:default;overflow:hidden;max-width:410px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;",liSpanStyles:"color:#999;float:right;margin-right:11px;",pStyles:"height:32px;line-height:32px;text-indent:9px;text-align:right;",pSpanStyles:"color:#999;cursor:pointer;margin-right:11px;",emStyles:"font-style:normal;color:#ff9026;",liHoverColor:"#f5fafe"};$("#search-tips-input").initSug(this.api+"/pc/search/suggest",n.keyParamer,".search-suggest-layer",i,r)},init:function(){$(window).scroll(function(){if($(window).scrollTop()>0&&$(window).scrollTop()<=200)$("#button-top").show();else if(0==$(window).scrollTop())$("#button-top").hide()}),$("#button-top").find("img").mouseenter(function(){$(this).attr("src",$(this).data("srchover"))}),$("#button-top").find("img").mouseleave(function(){$(this).attr("src",$(this).data("src"))})}}});